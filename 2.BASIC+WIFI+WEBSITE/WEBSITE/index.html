<!DOCTYPE html>
<html>
<head>
    <title>Sensor Data</title>
</head>
<body>
    <h1>Data Sensor</h1>
    <div id="data-container"></div>

    <script>
        async function fetchData() {
            const response = await fetch('https://<PROJECT-ID>.supabase.co/rest/v1/sensor_data?select=*', {
                headers: {
                    'apikey': 'ANON_KEY_ANDA',
                    'Authorization': 'Bearer ANON_KEY_ANDA'
                }
            });
            
            const data = await response.json();
            const container = document.getElementById('data-container');
            
            container.innerHTML = data
                .map(item => `<p>${item.created_at}: ${item.sensor_value}</p>`)
                .join('');
        }
        
        setInterval(fetchData, 5000); // Update setiap 5 detik
        fetchData();
    </script>
</body>
</html>